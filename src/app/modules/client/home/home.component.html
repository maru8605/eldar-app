<app-menu></app-menu>

<div class="p-grid p-fluid container">
  <div class="flex justify-content-end ">
    <p-button label="Nuevo post" (click)="crearNuevoPost()" icon="pi pi-plus-circle"/>
  </div>

  <div class="p-col-12">
    <div class="p-inputgroup">
      <input 
        type="text" 
        pInputText 
        [(ngModel)]="searchTerm" 
        (input)="updatePaginatedData()" 
        placeholder="Buscar post por título" 
        
      />
      <p-button 
        (click)="restoreData()" 
        icon="pi pi-refresh" 
        styleClass="ml-2 restore-button"
      />
    </div>
  </div>
  
  <div class="p-col-12 table-container">
    <p-table [value]="paginatedData">
      <ng-template pTemplate="header">
        <tr>
          <th>Título</th>
          <th>Descripción</th>
          <th>Acciones</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-post>
        <tr>
          <td>{{ post.title }}</td>
          <td>{{ post.body.substring(0, 10) }}...</td>
          <td>
            <p-button 
              (click)="ver(post)" 
              severity="info" 
              icon="pi pi-eye" 
              styleClass="mr-2" 
              tooltip="Ver post" 
              tooltipPosition="top" 
            />
            <p-button 
              (click)="editar(post)" 
              icon="pi pi-file-edit" 
              tooltip="Editar post" 
              tooltipPosition="top" 
            />
          </td>
        </tr>
      </ng-template>
    </p-table>

    <p-paginator 
      [rows]="rows" 
      [totalRecords]="totalRecords" 
      [pageLinkSize]="3" 
      (onPageChange)="onPageChange($event)">
    </p-paginator>
  </div>
</div>
